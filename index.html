
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M-League Scraper Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nota+Sans+JP:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-main: #ffffff;
            --text-sub: #b0b0b0;
            --accent: #d4af37; /* Gold */
        }
        body {
            font-family: 'Roboto', 'Noto Sans JP', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid #333;
        }
        h1 {
            font-size: 2.5rem;
            margin: 0;
            color: var(--accent);
        }
        .timestamp {
            color: var(--text-sub);
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        section {
            margin-bottom: 60px;
        }
        h2 {
            border-left: 4px solid var(--accent);
            padding-left: 10px;
            margin-bottom: 20px;
        }

        /* チームランキング */
        .rankings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        .team-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            border-top: 4px solid transparent;
        }
        .team-rank { font-size: 1.2rem; font-weight: bold; color: var(--text-sub); }
        .team-name { font-size: 1.5rem; font-weight: bold; margin: 10px 0; }
        .team-score { font-size: 2.5rem; font-weight: bold; text-align: right; }
        .team-diff { font-size: 1rem; text-align: right; margin-top: -5px; margin-bottom: 10px; }
        .team-members { margin-top: 15px; font-size: 0.9rem; color: var(--text-sub); border-top: 1px solid #333; padding-top: 10px; }

        /* グラフエリア */
        .chart-container {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            height: 400px;
            position: relative;
        }

        /* 個人成績テーブル */
        .table-container {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            overflow-x: auto;
        }
        table { width: 100%; border-collapse: collapse; white-space: nowrap; }
        th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #333; }
        th { color: var(--accent); font-weight: bold; }
        tr:hover { background-color: #2a2a2a; }
        .positive { color: #4CAF50; }
        .negative { color: #FF5252; }
        .diff-text { font-size: 0.8rem; margin-left: 5px; }

        /* サンプルチーム (My Team) */
        .sample-team-container {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
        }
        .selectors-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .selector-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        select {
            width: 100%;
            padding: 10px;
            background-color: #333;
            color: white;
            border: 1px solid #555;
            border-radius: 6px;
            font-size: 1rem;
        }
        .player-score-display {
            text-align: right;
            font-size: 0.9rem;
            min-height: 1.2em;
            font-weight: bold;
        }
        .my-team-result {
            text-align: center;
            border-top: 1px solid #444;
            padding-top: 20px;
        }
        .my-total-label { font-size: 1.2rem; color: var(--text-sub); }
        .my-total-score { font-size: 3rem; font-weight: bold; color: var(--accent); }

        footer { text-align: center; margin-top: 40px; color: var(--text-sub); font-size: 0.8rem; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>M-League Dashboard</h1>
            <div class="timestamp">Last Updated: 2026/01/19 23:53 (JST)</div>
        </header>

        <!-- 1. チームランキング -->
        <section>
            <h2>Team Ranking</h2>
            <div class="rankings-grid">
    
                <div class="team-card" style="border-top-color: rgb(255,255,204);">
                    <div class="team-rank">#1</div>
                    <div class="team-name">チームKR</div>
                    <div class="team-score negative">-36.7</div>
                    <div class="team-diff"><span style="color: #FF5252;">(2026/01/19: -24.3)</span></div>
                    <div class="team-members">仲林圭 / 渡辺太 / 逢川恵夢 / 渋川難波</div>
                </div>
        
                <div class="team-card" style="border-top-color: rgb(204,255,204);">
                    <div class="team-rank">#2</div>
                    <div class="team-name">チームF</div>
                    <div class="team-score negative">-37.5</div>
                    <div class="team-diff"><span style="color: #FF5252;">(2026/01/19: -16.2)</span></div>
                    <div class="team-members">堀慎吾 / 佐々木寿人 / 石井一馬 / 黒沢咲</div>
                </div>
        
                <div class="team-card" style="border-top-color: rgb(255,204,204);">
                    <div class="team-rank">#3</div>
                    <div class="team-name">チームI</div>
                    <div class="team-score negative">-43.9</div>
                    <div class="team-diff"><span style="color: #FF5252;">(2026/01/19: -61.6)</span></div>
                    <div class="team-members">瑞原明奈 / 伊達朱里紗 / 白鳥翔 / 阿久津翔太</div>
                </div>
        
                <div class="team-card" style="border-top-color: rgb(204,204,255);">
                    <div class="team-rank">#4</div>
                    <div class="team-name">チームKB</div>
                    <div class="team-score negative">-45.4</div>
                    <div class="team-diff"><span style="color: #FF5252;">(2026/01/19: -60.8)</span></div>
                    <div class="team-members">園田賢 / 鈴木優 / 日向藍子 / 竹内元太</div>
                </div>
        
            </div>
        </section>

        <!-- 2. スコア推移グラフ -->
        <section>
            <h2>Score History</h2>
            <div class="chart-container">
                <canvas id="historyChart"></canvas>
            </div>
        </section>

        <!-- 3. 個人成績 -->
        <section>
            <h2>Player Stats</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Player</th>
                            <th>Team</th>
                            <th>Total Score</th>
                            <th>Last Game</th>
                            <th>Games</th>
                            <th>Avg Rank</th>
                        </tr>
                    </thead>
                    <tbody>
    
                        <tr>
                            <td>1</td>
                            <td>渡辺太</td>
                            <td>チームKR</td>
                            <td class="positive">+202.1</td>
                            <td><span class="positive diff-text">(+11.4)</span></td>
                            <td>23</td>
                            <td>2.30</td>
                        </tr>
        
                        <tr>
                            <td>2</td>
                            <td>竹内元太</td>
                            <td>チームKB</td>
                            <td class="positive">+193.6</td>
                            <td><span style="color: #555; font-size: 0.8rem;">-</span></td>
                            <td>25</td>
                            <td>2.28</td>
                        </tr>
        
                        <tr>
                            <td>3</td>
                            <td>石井一馬</td>
                            <td>チームF</td>
                            <td class="positive">+158.8</td>
                            <td><span style="color: #555; font-size: 0.8rem;">-</span></td>
                            <td>25</td>
                            <td>2.32</td>
                        </tr>
        
                        <tr>
                            <td>4</td>
                            <td>伊達朱里紗</td>
                            <td>チームI</td>
                            <td class="positive">+123.9</td>
                            <td><span style="color: #555; font-size: 0.8rem;">-</span></td>
                            <td>21</td>
                            <td>2.38</td>
                        </tr>
        
                        <tr>
                            <td>5</td>
                            <td>渋川難波</td>
                            <td>チームKR</td>
                            <td class="positive">+111.7</td>
                            <td><span class="negative diff-text">(-35.7)</span></td>
                            <td>21</td>
                            <td>2.38</td>
                        </tr>
        
                        <tr>
                            <td>6</td>
                            <td>白鳥翔</td>
                            <td>チームI</td>
                            <td class="positive">+106.7</td>
                            <td><span style="color: #555; font-size: 0.8rem;">-</span></td>
                            <td>19</td>
                            <td>2.26</td>
                        </tr>
        
                        <tr>
                            <td>7</td>
                            <td>園田賢</td>
                            <td>チームKB</td>
                            <td class="positive">+54.7</td>
                            <td><span style="color: #555; font-size: 0.8rem;">-</span></td>
                            <td>22</td>
                            <td>2.41</td>
                        </tr>
        
                        <tr>
                            <td>8</td>
                            <td>黒沢咲</td>
                            <td>チームF</td>
                            <td class="positive">+42.2</td>
                            <td><span style="color: #555; font-size: 0.8rem;">-</span></td>
                            <td>17</td>
                            <td>2.47</td>
                        </tr>
        
                        <tr>
                            <td>9</td>
                            <td>佐々木寿人</td>
                            <td>チームF</td>
                            <td class="positive">+19.4</td>
                            <td><span style="color: #555; font-size: 0.8rem;">-</span></td>
                            <td>23</td>
                            <td>2.39</td>
                        </tr>
        
                        <tr>
                            <td>10</td>
                            <td>逢川恵夢</td>
                            <td>チームKR</td>
                            <td class="negative">-51.1</td>
                            <td><span style="color: #555; font-size: 0.8rem;">-</span></td>
                            <td>17</td>
                            <td>2.47</td>
                        </tr>
        
                        <tr>
                            <td>11</td>
                            <td>鈴木優</td>
                            <td>チームKB</td>
                            <td class="negative">-74.1</td>
                            <td><span class="negative diff-text">(-60.8)</span></td>
                            <td>21</td>
                            <td>2.71</td>
                        </tr>
        
                        <tr>
                            <td>12</td>
                            <td>瑞原明奈</td>
                            <td>チームI</td>
                            <td class="negative">-130.4</td>
                            <td><span class="negative diff-text">(-61.6)</span></td>
                            <td>22</td>
                            <td>2.73</td>
                        </tr>
        
                        <tr>
                            <td>13</td>
                            <td>阿久津翔太</td>
                            <td>チームI</td>
                            <td class="negative">-144.1</td>
                            <td><span style="color: #555; font-size: 0.8rem;">-</span></td>
                            <td>19</td>
                            <td>2.68</td>
                        </tr>
        
                        <tr>
                            <td>14</td>
                            <td>日向藍子</td>
                            <td>チームKB</td>
                            <td class="negative">-219.6</td>
                            <td><span style="color: #555; font-size: 0.8rem;">-</span></td>
                            <td>16</td>
                            <td>2.75</td>
                        </tr>
        
                        <tr>
                            <td>15</td>
                            <td>堀慎吾</td>
                            <td>チームF</td>
                            <td class="negative">-257.9</td>
                            <td><span class="negative diff-text">(-16.2)</span></td>
                            <td>20</td>
                            <td>2.95</td>
                        </tr>
        
                        <tr>
                            <td>16</td>
                            <td>仲林圭</td>
                            <td>チームKR</td>
                            <td class="negative">-299.4</td>
                            <td><span style="color: #555; font-size: 0.8rem;">-</span></td>
                            <td>21</td>
                            <td>2.81</td>
                        </tr>
        
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 4. サンプルチーム作成 (一番下に移動) -->
        <section>
            <h2>Create Your Sample Team</h2>
            <div class="sample-team-container">
                <p style="color: #aaa; margin-bottom: 15px;">好きな選手を4人選んで、シミュレーションチームの合計スコアを計算できます。</p>
                <div class="selectors-grid">
                    <div class="selector-item">
                        <select id="p1" onchange="calculateMyTeam()"><option value="0">Select Player 1</option></select>
                        <div id="s1" class="player-score-display"></div>
                    </div>
                    <div class="selector-item">
                        <select id="p2" onchange="calculateMyTeam()"><option value="0">Select Player 2</option></select>
                        <div id="s2" class="player-score-display"></div>
                    </div>
                    <div class="selector-item">
                        <select id="p3" onchange="calculateMyTeam()"><option value="0">Select Player 3</option></select>
                        <div id="s3" class="player-score-display"></div>
                    </div>
                    <div class="selector-item">
                        <select id="p4" onchange="calculateMyTeam()"><option value="0">Select Player 4</option></select>
                        <div id="s4" class="player-score-display"></div>
                    </div>
                </div>
                <div class="my-team-result">
                    <div class="my-total-label">Estimated Total Score</div>
                    <div class="my-total-score" id="myScore">0.0</div>
                </div>
            </div>
        </section>

        <footer>
            Generated by M-League Scraper | Automagically updated via GitHub Actions
        </footer>
    </div>

    <script>
        // --- データ埋め込み ---
    const labels = ["開幕前", "2025/09/15", "2025/09/15", "2025/09/16", "2025/09/16", "2025/09/18", "2025/09/18", "2025/09/19", "2025/09/19", "2025/09/22", "2025/09/22", "2025/09/23", "2025/09/23", "2025/09/25", "2025/09/25", "2025/09/26", "2025/09/26", "2025/09/29", "2025/09/29", "2025/09/30", "2025/09/30", "2025/10/02", "2025/10/02", "2025/10/03", "2025/10/03", "2025/10/06", "2025/10/06", "2025/10/07", "2025/10/07", "2025/10/09", "2025/10/09", "2025/10/10", "2025/10/10", "2025/10/13", "2025/10/13", "2025/10/14", "2025/10/14", "2025/10/16", "2025/10/16", "2025/10/17", "2025/10/17", "2025/10/20", "2025/10/20", "2025/10/21", "2025/10/21", "2025/10/23", "2025/10/23", "2025/10/24", "2025/10/24", "2025/10/27", "2025/10/27", "2025/10/28", "2025/10/28", "2025/10/30", "2025/10/30", "2025/10/31", "2025/10/31", "2025/11/03", "2025/11/03", "2025/11/04", "2025/11/04", "2025/11/06", "2025/11/06", "2025/11/07", "2025/11/07", "2025/11/10", "2025/11/10", "2025/11/11", "2025/11/11", "2025/11/13", "2025/11/13", "2025/11/14", "2025/11/14", "2025/11/17", "2025/11/17", "2025/11/18", "2025/11/18", "2025/11/20", "2025/11/20", "2025/11/21", "2025/11/21", "2025/11/24", "2025/11/24", "2025/11/25", "2025/11/25", "2025/11/27", "2025/11/27", "2025/11/28", "2025/11/28", "2025/12/01", "2025/12/01", "2025/12/02", "2025/12/02", "2025/12/04", "2025/12/04", "2025/12/05", "2025/12/05", "2025/12/08", "2025/12/08", "2025/12/09", "2025/12/09", "2025/12/11", "2025/12/11", "2025/12/12", "2025/12/12", "2025/12/15", "2025/12/15", "2025/12/16", "2025/12/16", "2025/12/18", "2025/12/18", "2025/12/19", "2025/12/19", "2025/12/22", "2025/12/22", "2025/12/23", "2025/12/23", "2025/12/25", "2025/12/25", "2025/12/26", "2025/12/26", "2026/01/05", "2026/01/05", "2026/01/06", "2026/01/06", "2026/01/08", "2026/01/08", "2026/01/09", "2026/01/09", "2026/01/12", "2026/01/12", "2026/01/13", "2026/01/13", "2026/01/15", "2026/01/15", "2026/01/16", "2026/01/16", "2026/01/19", "2026/01/19"];
const datasets = [
{
  label: 'チームI',
  data: [0.0, 0.0, 0.0, 76.0, 114.8, 120.6, 120.6, 120.6, 134.6, 189.2, 245.7, 245.7, 245.7, 235.8, 216.2, 226.6, 226.6, 236.3, 236.3, 236.3, 236.3, 274.3, 251.2, 251.2, 229.0, 229.0, 229.0, 180.6, 180.6, 180.6, 138.8, 148.3, 156.0, 110.0, 94.1, 45.3, 45.3, 98.5, 98.5, 98.5, 98.5, 98.5, 98.5, 55.6, 55.6, 55.6, 130.6, 65.8, 65.8, 127.2, 127.2, 127.2, 127.2, 117.8, 117.8, 188.6, 188.6, 188.6, 118.5, 118.5, 118.5, 126.1, 178.4, 129.9, 129.9, 129.9, 129.9, 163.1, 163.1, 163.1, 142.3, 142.3, 148.3, 148.3, 148.3, 148.3, 148.3, 130.0, 130.0, 62.7, -4.6, -4.6, 49.7, 49.7, 49.7, 109.8, 69.7, 133.2, 133.2, 133.2, 133.2, 133.2, 84.5, 84.5, 66.8, 5.7, -54.2, 35.1, 35.1, 35.1, 35.1, 35.1, 32.0, -7.0, 3.9, -16.1, -16.1, -16.1, -16.1, 1.5, 1.5, 83.1, 83.1, 83.1, 83.1, 64.0, 64.8, 40.8, 40.8, 40.8, 112.3, 112.3, 112.3, 112.3, 112.3, 112.3, 112.3, 121.7, 179.8, 198.1, 198.1, 116.1, 116.1, 66.3, 66.3, 17.7, 17.7, -43.9, -43.9],
  borderColor: 'rgba(255, 204, 204, 1)',
  backgroundColor: 'rgba(255, 204, 204, 1)',
  borderWidth: 2,
  tension: 0.1,
  pointRadius: 0,
  pointHoverRadius: 5
},
{
  label: 'チームKB',
  data: [0.0, 64.7, 64.7, 64.7, 64.7, 64.7, 64.7, 64.7, 64.7, 48.0, -17.1, -17.1, -69.8, -147.7, -147.7, -80.5, 31.0, 31.0, 81.5, 81.5, 98.7, 155.3, 155.3, 155.3, 225.4, 225.4, 225.4, 225.4, 225.4, 390.1, 390.1, 390.1, 375.6, 435.4, 435.4, 447.4, 447.4, 428.3, 428.3, 363.1, 343.1, 308.9, 308.9, 308.9, 308.9, 283.6, 334.6, 334.6, 334.6, 318.9, 318.9, 318.9, 318.9, 318.9, 259.4, 259.4, 318.8, 324.0, 327.5, 327.5, 332.5, 357.3, 357.3, 357.3, 339.8, 293.9, 293.9, 293.9, 293.9, 306.5, 254.6, 310.1, 252.0, 161.1, 161.1, 161.1, 161.1, 161.1, 214.4, 194.1, 149.1, 149.1, 149.1, 211.6, 211.6, 119.3, 119.3, 119.3, 119.3, 112.3, 112.3, 94.8, 94.8, 18.0, 18.0, 18.0, 18.0, 18.0, 18.0, 33.5, 42.6, 44.5, -65.9, -84.6, -84.6, -84.6, -105.3, -148.9, -185.0, -199.7, -199.7, -199.7, -199.7, -121.8, -121.8, -121.8, -121.8, -45.7, -45.7, -63.2, -63.2, -63.2, -63.2, -42.9, -27.4, -8.5, -7.7, -7.7, -53.5, -53.5, -53.5, 23.5, 33.3, -18.9, 36.9, 15.4, 15.4, 15.4, -45.4],
  borderColor: 'rgba(204, 204, 255, 1)',
  backgroundColor: 'rgba(204, 204, 255, 1)',
  borderWidth: 2,
  tension: 0.1,
  pointRadius: 0,
  pointHoverRadius: 5
},
{
  label: 'チームF',
  data: [0.0, -15.9, -15.9, -9.7, -9.7, -9.7, -9.7, -9.7, -20.5, -6.4, -6.4, -6.4, -6.4, 51.0, 51.0, 0.2, 0.2, 0.2, 0.2, 0.2, -76.6, -76.6, -97.9, -161.2, -161.2, -161.2, -161.2, -161.2, -161.2, -202.9, -205.4, -142.7, -57.2, -47.8, -47.8, -47.8, 9.4, 10.8, 10.8, 10.8, -62.8, -12.9, -75.8, -75.8, -75.8, -94.2, -97.0, -97.0, -36.0, -36.0, -80.7, -80.7, -80.7, -122.8, -122.8, -150.7, -87.4, -87.4, -87.4, -93.3, -93.3, -93.3, -35.8, -35.8, -35.8, -35.8, -35.8, -35.8, -35.8, -31.0, -54.1, -54.1, 15.5, 36.7, 36.7, 36.7, 36.7, 95.8, 52.8, 52.8, 70.6, 123.2, 123.2, 76.8, 39.0, 39.0, 15.1, 15.1, 15.1, 22.1, -35.2, -29.3, -29.3, -22.1, 40.9, 40.9, -6.3, -27.5, -27.5, -27.5, -27.5, 14.2, 69.1, 77.2, 77.2, 77.2, 77.2, 77.2, 77.2, 39.3, 47.3, -8.6, -8.6, -59.6, -9.0, -9.0, -9.0, 66.3, 84.8, 84.8, 84.8, 126.2, 114.2, 114.2, 67.0, 67.0, 77.1, 40.7, 40.7, 40.7, 40.7, 40.7, 40.7, 120.4, 78.6, 78.6, -21.3, -37.5, -37.5],
  borderColor: 'rgba(204, 255, 204, 1)',
  backgroundColor: 'rgba(204, 255, 204, 1)',
  borderWidth: 2,
  tension: 0.1,
  pointRadius: 0,
  pointHoverRadius: 5
},
{
  label: 'チームKR',
  data: [0.0, 0.0, 66.4, 66.4, 66.4, 66.4, 66.4, 70.1, 70.1, 70.1, 70.1, 70.1, 52.4, 52.4, 63.1, 98.9, 98.9, 98.9, 98.9, 88.2, 88.2, 88.2, 97.8, 97.8, 19.4, 19.4, 97.3, 97.3, 97.3, 80.3, 56.6, 23.8, 23.8, 23.8, 23.8, 23.8, 23.8, 23.8, 23.8, 32.4, 32.4, 32.4, 128.4, 128.4, 128.4, 130.6, 104.7, 91.1, 36.4, 36.4, 36.4, -18.0, 38.7, 38.7, 25.4, 25.4, 25.4, -5.8, -5.8, -5.8, -27.4, -27.4, -125.8, -106.6, -40.5, -40.5, -40.5, -40.5, -98.5, -98.5, -98.5, -96.4, -96.4, 2.7, 2.7, -55.4, -1.0, 2.4, 2.4, -52.6, -42.9, -42.9, -42.9, -42.9, -42.9, -42.9, -33.9, -11.9, -1.1, -1.1, -1.1, -1.1, 66.6, 66.6, 99.5, 119.8, 92.7, 92.7, 102.1, 102.1, 102.1, 160.9, 160.9, 221.4, 221.4, 221.4, 221.4, 231.2, 261.3, 261.3, 183.1, 183.1, 183.1, 183.1, 190.7, 190.7, 211.6, 211.6, 156.9, 171.6, 114.2, 114.2, 114.2, 114.2, 114.2, 37.3, -35.5, -35.5, -47.8, -47.8, -47.8, -47.8, 40.5, 15.5, 15.5, 15.5, -12.4, -12.4, -36.7],
  borderColor: 'rgba(255, 255, 204, 1)',
  backgroundColor: 'rgba(255, 255, 204, 1)',
  borderWidth: 2,
  tension: 0.1,
  pointRadius: 0,
  pointHoverRadius: 5
},
];
const playerMap = [{"name": "永井孝典", "score": 511.6}, {"name": "下石戟", "score": 412.2}, {"name": "内川幸太郎", "score": 356.6}, {"name": "中田花奈", "score": 252.0}, {"name": "渡辺太", "score": 202.1}, {"name": "竹内元太", "score": 193.6}, {"name": "滝沢和典", "score": 192.1}, {"name": "二階堂亜樹", "score": 188.2}, {"name": "多井隆晴", "score": 166.4}, {"name": "石井一馬", "score": 158.8}, {"name": "伊達朱里紗", "score": 123.9}, {"name": "渋川難波", "score": 111.7}, {"name": "白鳥翔", "score": 106.7}, {"name": "高宮まり", "score": 93.0}, {"name": "萩原聖人", "score": 86.6}, {"name": "園田賢", "score": 54.7}, {"name": "黒沢咲", "score": 42.2}, {"name": "佐々木寿人", "score": 19.4}, {"name": "瀬戸熊直樹", "score": 4.0}, {"name": "東城りお", "score": -1.9}, {"name": "浅井堂岐", "score": -9.2}, {"name": "浅見真紀", "score": -11.0}, {"name": "茅森早香", "score": -33.9}, {"name": "本田朋広", "score": -38.9}, {"name": "逢川恵夢", "score": -51.1}, {"name": "鈴木優", "score": -74.1}, {"name": "醍醐大", "score": -119.4}, {"name": "岡田紗佳", "score": -119.5}, {"name": "瑞原明奈", "score": -130.4}, {"name": "HIRO柴田", "score": -138.7}, {"name": "阿久津翔太", "score": -144.1}, {"name": "勝又健志", "score": -181.1}, {"name": "鈴木大介", "score": -198.7}, {"name": "松本吉弘", "score": -204.3}, {"name": "小林剛", "score": -218.4}, {"name": "日向藍子", "score": -219.6}, {"name": "堀慎吾", "score": -257.9}, {"name": "仲林圭", "score": -299.4}, {"name": "鈴木たろう", "score": -317.8}, {"name": "三浦智博", "score": -506.4}];

        // --- グラフ描画 ---
        const ctx = document.getElementById('historyChart').getContext('2d');
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: labels,
                datasets: datasets
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                scales: {
                    y: {
                        grid: { color: '#333' },
                        ticks: { color: '#aaa' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#aaa' }
                    }
                },
                plugins: {
                    legend: {
                        labels: { color: '#fff' }
                    }
                }
            }
        });

        // --- サンプルチーム計算 ---
        const selects = [
            document.getElementById('p1'),
            document.getElementById('p2'),
            document.getElementById('p3'),
            document.getElementById('p4')
        ];
        const scoreDisplays = [
            document.getElementById('s1'),
            document.getElementById('s2'),
            document.getElementById('s3'),
            document.getElementById('s4')
        ];

        // セレクトボックス初期化 (名前だけ表示、スコアは隠す)
        playerMap.forEach(p => {
            const optionText = p.name; 
            selects.forEach(sel => {
                const opt = document.createElement('option');
                opt.value = p.score;
                opt.textContent = optionText;
                sel.appendChild(opt);
            });
        });

        function calculateMyTeam() {
            let total = 0.0;
            selects.forEach((sel, index) => {
                const val = parseFloat(sel.value);
                const display = scoreDisplays[index];
                total += val;
                
                // 個別スコアの表示切り替え
                if (sel.selectedIndex > 0) { // 選手が選ばれているとき
                     const sign = val > 0 ? '+' : '';
                     display.textContent = `${sign}${val.toFixed(1)}`;
                     display.style.color = val >= 0 ? '#4CAF50' : '#FF5252';
                } else {
                     display.textContent = '';
                }
            });
            
            const totalDisplay = document.getElementById('myScore');
            totalDisplay.textContent = (total > 0 ? '+' : '') + total.toFixed(1);
            
            if (total >= 0) {
                totalDisplay.style.color = '#4CAF50';
            } else {
                totalDisplay.style.color = '#FF5252';
            }
        }
    </script>
</body>
</html>
    