
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M-League Scraper Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nota+Sans+JP:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-main: #ffffff;
            --text-sub: #b0b0b0;
            --accent: #d4af37; /* Gold */
        }
        body {
            font-family: 'Roboto', 'Noto Sans JP', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid #333;
        }
        h1 {
            font-size: 2.5rem;
            margin: 0;
            color: var(--accent);
        }
        .timestamp {
            color: var(--text-sub);
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        /* チームランキング */
        .rankings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .team-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            transition: transform 0.2s;
            border-top: 4px solid transparent;
        }
        .team-card:hover {
            transform: translateY(-5px);
        }
        .team-rank {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--text-sub);
        }
        .team-name {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 10px 0;
        }
        .team-score {
            font-size: 2.5rem;
            font-weight: bold;
            text-align: right;
            color: var(--text-main);
        }
        .team-members {
            margin-top: 15px;
            font-size: 0.9rem;
            color: var(--text-sub);
            border-top: 1px solid #333;
            padding-top: 10px;
        }

        /* グラフエリア */
        .chart-container {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 40px;
            height: 400px;
            position: relative;
        }

        /* 個人成績テーブル */
        .table-container {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            white-space: nowrap;
        }
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #333;
        }
        th {
            color: var(--accent);
            font-weight: bold;
        }
        tr:hover {
            background-color: #2a2a2a;
        }
        .positive { color: #4CAF50; }
        .negative { color: #FF5252; }

        /* フッター */
        footer {
            text-align: center;
            margin-top: 40px;
            color: var(--text-sub);
            font-size: 0.8rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>M-League Dashboard</h1>
            <div class="timestamp">Last Updated: 2026/01/12 16:00</div>
        </header>

        <section>
            <h2 style="border-left: 4px solid var(--accent); padding-left: 10px;">Team Ranking</h2>
            <div class="rankings-grid">
    
                <div class="team-card" style="border-top-color: rgb(229,204,255);">
                    <div class="team-rank">#1</div>
                    <div class="team-name">チームT</div>
                    <div class="team-score positive">+1847.6</div>
                    <div class="team-members">中田花奈 / 中田花奈 / 中田花奈 / 中田花奈</div>
                </div>
        
                <div class="team-card" style="border-top-color: rgb(255,204,204);">
                    <div class="team-rank">#2</div>
                    <div class="team-name">チームI</div>
                    <div class="team-score positive">+198.1</div>
                    <div class="team-members">瑞原明奈 / 伊達朱里紗 / 白鳥翔 / 阿久津翔太</div>
                </div>
        
                <div class="team-card" style="border-top-color: rgb(204,255,204);">
                    <div class="team-rank">#3</div>
                    <div class="team-name">チームF</div>
                    <div class="team-score positive">+40.7</div>
                    <div class="team-members">堀慎吾 / 佐々木寿人 / 石井一馬 / 黒沢咲</div>
                </div>
        
                <div class="team-card" style="border-top-color: rgb(255,255,204);">
                    <div class="team-rank">#4</div>
                    <div class="team-name">チームKR</div>
                    <div class="team-score negative">-47.8</div>
                    <div class="team-members">仲林圭 / 渡辺太 / 逢川恵夢 / 渋川難波</div>
                </div>
        
                <div class="team-card" style="border-top-color: rgb(204,204,255);">
                    <div class="team-rank">#5</div>
                    <div class="team-name">チームKB</div>
                    <div class="team-score negative">-53.5</div>
                    <div class="team-members">園田賢 / 鈴木優 / 日向藍子 / 竹内元太</div>
                </div>
        
            </div>
        </section>

        <section>
            <h2 style="border-left: 4px solid var(--accent); padding-left: 10px;">Score History</h2>
            <div class="chart-container">
                <canvas id="scoreChart"></canvas>
            </div>
        </section>

        <section>
            <h2 style="border-left: 4px solid var(--accent); padding-left: 10px;">Player Stats</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Player</th>
                            <th>Team</th>
                            <th>Total Score</th>
                            <th>Games</th>
                            <th>Avg Rank</th>
                        </tr>
                    </thead>
                    <tbody>
    
                        <tr>
                            <td>1</td>
                            <td>中田花奈</td>
                            <td>チームT</td>
                            <td class="positive">+461.9</td>
                            <td>18</td>
                            <td>2.33</td>
                        </tr>
        
                        <tr>
                            <td>2</td>
                            <td>伊達朱里紗</td>
                            <td>チームI</td>
                            <td class="positive">+222.3</td>
                            <td>19</td>
                            <td>2.21</td>
                        </tr>
        
                        <tr>
                            <td>3</td>
                            <td>石井一馬</td>
                            <td>チームF</td>
                            <td class="positive">+209.5</td>
                            <td>24</td>
                            <td>2.25</td>
                        </tr>
        
                        <tr>
                            <td>4</td>
                            <td>渋川難波</td>
                            <td>チームKR</td>
                            <td class="positive">+175.3</td>
                            <td>19</td>
                            <td>2.32</td>
                        </tr>
        
                        <tr>
                            <td>5</td>
                            <td>竹内元太</td>
                            <td>チームKB</td>
                            <td class="positive">+161.7</td>
                            <td>22</td>
                            <td>2.32</td>
                        </tr>
        
                        <tr>
                            <td>6</td>
                            <td>佐々木寿人</td>
                            <td>チームF</td>
                            <td class="positive">+110.4</td>
                            <td>21</td>
                            <td>2.24</td>
                        </tr>
        
                        <tr>
                            <td>7</td>
                            <td>白鳥翔</td>
                            <td>チームI</td>
                            <td class="positive">+106.7</td>
                            <td>19</td>
                            <td>2.26</td>
                        </tr>
        
                        <tr>
                            <td>8</td>
                            <td>渡辺太</td>
                            <td>チームKR</td>
                            <td class="positive">+102.4</td>
                            <td>21</td>
                            <td>2.38</td>
                        </tr>
        
                        <tr>
                            <td>9</td>
                            <td>瑞原明奈</td>
                            <td>チームI</td>
                            <td class="negative">-9.6</td>
                            <td>20</td>
                            <td>2.60</td>
                        </tr>
        
                        <tr>
                            <td>10</td>
                            <td>園田賢</td>
                            <td>チームKB</td>
                            <td class="negative">-22.3</td>
                            <td>21</td>
                            <td>2.48</td>
                        </tr>
        
                        <tr>
                            <td>11</td>
                            <td>鈴木優</td>
                            <td>チームKB</td>
                            <td class="negative">-23.1</td>
                            <td>19</td>
                            <td>2.68</td>
                        </tr>
        
                        <tr>
                            <td>12</td>
                            <td>黒沢咲</td>
                            <td>チームF</td>
                            <td class="negative">-37.5</td>
                            <td>16</td>
                            <td>2.56</td>
                        </tr>
        
                        <tr>
                            <td>13</td>
                            <td>逢川恵夢</td>
                            <td>チームKR</td>
                            <td class="negative">-52.7</td>
                            <td>16</td>
                            <td>2.50</td>
                        </tr>
        
                        <tr>
                            <td>14</td>
                            <td>阿久津翔太</td>
                            <td>チームI</td>
                            <td class="negative">-121.3</td>
                            <td>18</td>
                            <td>2.67</td>
                        </tr>
        
                        <tr>
                            <td>15</td>
                            <td>日向藍子</td>
                            <td>チームKB</td>
                            <td class="negative">-169.8</td>
                            <td>15</td>
                            <td>2.67</td>
                        </tr>
        
                        <tr>
                            <td>16</td>
                            <td>堀慎吾</td>
                            <td>チームF</td>
                            <td class="negative">-241.7</td>
                            <td>19</td>
                            <td>2.95</td>
                        </tr>
        
                        <tr>
                            <td>17</td>
                            <td>仲林圭</td>
                            <td>チームKR</td>
                            <td class="negative">-272.8</td>
                            <td>20</td>
                            <td>2.80</td>
                        </tr>
        
                    </tbody>
                </table>
            </div>
        </section>

        <footer>
            Generated by M-League Scraper | Automagically updated via GitHub Actions
        </footer>
    </div>

    <script>
        // グラフ描画用データ (Scraperから渡すのが難しいので、ここでは簡易的にJSに埋め込むデータを生成する必要がありますが、
        // 過去の推移データを持っていないと描画できません。
        // 今回は「現在のトータルスコア」の棒グラフ、または簡易的な実装としておきます。
        // ※本来は daily_history.csv などを保存して読み込む必要がありますが、
        //   今回は要件をシンプルにするため、チームごとの現在スコア比較チャートにします。
        
        const ctx = document.getElementById('scoreChart').getContext('2d');
        const labels = [];
        const data = [];
        const bgColors = [];
        const borderColors = [];
    labels.push('チームT');
data.push(1847.6);
bgColors.push('rgba(229, 204, 255, 0.5)');
borderColors.push('rgba(229, 204, 255, 1)');
labels.push('チームI');
data.push(198.10000000000002);
bgColors.push('rgba(255, 204, 204, 0.5)');
borderColors.push('rgba(255, 204, 204, 1)');
labels.push('チームF');
data.push(40.69999999999994);
bgColors.push('rgba(204, 255, 204, 0.5)');
borderColors.push('rgba(204, 255, 204, 1)');
labels.push('チームKR');
data.push(-47.8000000000001);
bgColors.push('rgba(255, 255, 204, 0.5)');
borderColors.push('rgba(255, 255, 204, 1)');
labels.push('チームKB');
data.push(-53.49999999999994);
bgColors.push('rgba(204, 204, 255, 0.5)');
borderColors.push('rgba(204, 204, 255, 1)');

        const myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Total Score',
                    data: data,
                    backgroundColor: bgColors,
                    borderColor: borderColors,
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: '#333' }
                    },
                    x: {
                        grid: { display: false }
                    }
                },
                plugins: {
                    legend: { display: false }
                }
            }
        });
    </script>
</body>
</html>
    